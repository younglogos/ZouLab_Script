% ???????????????????????????????path??path????????????
% path??????
% file_mask?????????????*.jpg
function [file_list] = RScanDir(path, file_mask)
p = genpath(path);      % ?????path???????????????????p???';'??
length_p = size(p,2);   % ???p???
path = {};  % ???????????????????????
temp = [];
file_list = {}; % ????????
path_num = 1;
for i = 1:length_p % ?????';'??????????temp??path???
    if p(i) ~= ';'
        temp = [temp p(i)];
    else 
        temp = [temp '\']; %???????? '\'
        path = [path ; temp];
        temp = [];
    end
end  
clear p length_p temp;
% ????data???????????????????????????????path??
% ?????????????
file_num = size(path,1);% ???????
for i = 1:file_num
    file_path =  path{i}; % ???????
    img_path_list = dir(strcat(file_path, file_mask));
    img_num = length(img_path_list); %?????????
    if img_num > 0
        for j = 1:img_num
            image_name = img_path_list(j).name; % ???
            fprintf('????????? %s\n', strcat(file_path,image_name));    % ???????????
            file_list{path_num} = [strcat(file_path,image_name)];
            path_num = path_num+1
        end
    end
end
end
